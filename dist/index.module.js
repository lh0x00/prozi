import e from"to-fast-properties";import r from"throat";export{default as throat}from"throat";function t(r){return e(r)}var n=/*#__PURE__*/function(){function e(){}return e.wrap=function(r){return function(){try{var t=this;return Promise.resolve(e.create(function(e,n){try{var c=arguments;try{e(Promise.resolve(r.apply(t,[].slice.call(c))))}catch(e){n(e)}return Promise.resolve()}catch(e){return Promise.reject(e)}}))}catch(e){return Promise.reject(e)}}},e.immediate=function(r){try{return Promise.resolve(e.create(function(e,t){Promise.resolve().then(function(){Promise.resolve("function"==typeof r?r():null).then(e).catch(t)})}))}catch(e){return Promise.reject(e)}},e.timeout=function(r,t){void 0===t&&(t=0);try{return Promise.resolve(e.create(function(e,n){setTimeout(function(){Promise.resolve("function"==typeof r?r():null).then(e).catch(n)},t)}))}catch(e){return Promise.reject(e)}},e.throat=function(r,t,n){try{if(!r||!Array.isArray(r)||!("map"in r))throw new Error("The parameter list received is invalid,it's must be a list or support `map` prototype.");var c=Object.assign({concurrency:this.defaults.concurrency,schedule:!1},n);if(c.concurrency<=0)throw new Error("Quiz throat required concurrency value is greater 0.");return Promise.resolve(e.map(r,t,c))}catch(e){return Promise.reject(e)}},e.map=function(t,n,c){try{if(!t||!Array.isArray(t)||!("map"in t))throw new Error("The parameter list received is invalid,it's must be a list or support `map` prototype.");var o=Object.assign({concurrency:-1,schedule:!1},c);return Promise.resolve(e.all(t.map(o.concurrency>0?r(o.concurrency,n):n)))}catch(e){return Promise.reject(e)}},e.from=function(e){try{var r=Object.keys(e),n=Object.values(e);return Promise.resolve(this.all(n)).then(function(e){return e.reduce(function(e,t,n){var c;return Object.assign(e,((c={})[r[n]]=t,c))},t())})}catch(e){return Promise.reject(e)}},e.all=function(){try{var e=[].slice.call(arguments).reduce(function(e,r){return e.concat(r)},[]);return Promise.all(e)}catch(e){return Promise.reject(e)}},e.defer=function(e){var r=Object.assign({timeout:-1,cancelable:!0},e),n=t({});return n.state="pending",n.is=t({finalled:function(){return"resolved"===n.state||"rejected"===n.state},resolved:function(){return"resolved"===n.state},rejected:function(){return"rejected"===n.state}}),n.promise=new Promise(function(e,t){if(n.resolve=e,n.reject=t,r.cancelable&&Promise.resolve().then(function(){n.cancel=n.promise.cancel=function(){var e=new Error("The promise have been canceled.");e.name="PromiseCanceled",n.reject(e)}}),r.timeout>0){var c=setTimeout(function(){c=-1;var e=new Error("The promise has been timedout.");e.name="PromiseTimedout",n.reject(e)},r.timeout);n.flush=function(){clearTimeout(c),c=-1},n.promise.finally(function(){n.flush()})}}),n.promise.then(function(){return n.state="resolved"}).catch(function(){return n.state="rejected"}),n},e.run=function(r,t){var n=e.defer(t);return r().then(n.resolve).catch(n.reject),n.promise},e.create=function(r,t){var n=e.defer(t);return r(n.resolve,n.reject),n.promise},e}();n.defaults=t({concurrency:4}),n.race=function(){try{var e=[].slice.call(arguments).reduce(function(e,r){return e.concat(r)},[]);return Promise.race(e)}catch(e){return Promise.reject(e)}},n.promisify=function(e){return function(){var r=arguments;try{return Promise.resolve(new Promise(function(t,n){e.apply(void 0,[].slice.call(r).concat([function(e,r){e?n(e):t(r)}]))}))}catch(e){return Promise.reject(e)}}},n.deferify=function(e){return function(){var r=n.defer();return r.forward=e.apply(void 0,[].slice.call(arguments).concat([function(e,t){return e?r.reject(e):r.resolve(t)}])),r}};export{n as Quiz,t as fastObjectProperties};
//# sourceMappingURL=index.module.js.map
